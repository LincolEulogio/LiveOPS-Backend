import { PrismaService } from '@/prisma/prisma.service';
import { EventEmitter2 } from '@nestjs/event-emitter';
import { CreateTimelineBlockDto, UpdateTimelineBlockDto } from '@/timeline/dto/timeline.dto';
import { AuditService } from '@/common/services/audit.service';
export declare class TimelineService {
    private prisma;
    private eventEmitter;
    private auditService;
    private readonly logger;
    constructor(prisma: PrismaService, eventEmitter: EventEmitter2, auditService: AuditService);
    getBlocks(productionId: string): Promise<({
        intercomTemplate: {
            id: string;
            productionId: string;
            description: string | null;
            createdAt: Date;
            updatedAt: Date;
            name: string;
            icon: string | null;
            color: string | null;
        } | null;
    } & {
        id: string;
        productionId: string;
        title: string;
        description: string | null;
        durationMs: number;
        status: import("@prisma/client").$Enums.BlockStatus;
        order: number;
        linkedScene: string | null;
        source: string | null;
        notes: string | null;
        intercomTemplateId: string | null;
        startTime: Date | null;
        endTime: Date | null;
        createdAt: Date;
        updatedAt: Date;
    })[]>;
    createBlock(productionId: string, dto: CreateTimelineBlockDto): Promise<{
        id: string;
        productionId: string;
        title: string;
        description: string | null;
        durationMs: number;
        status: import("@prisma/client").$Enums.BlockStatus;
        order: number;
        linkedScene: string | null;
        source: string | null;
        notes: string | null;
        intercomTemplateId: string | null;
        startTime: Date | null;
        endTime: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    updateBlock(id: string, productionId: string, dto: UpdateTimelineBlockDto): Promise<{
        id: string;
        productionId: string;
        title: string;
        description: string | null;
        durationMs: number;
        status: import("@prisma/client").$Enums.BlockStatus;
        order: number;
        linkedScene: string | null;
        source: string | null;
        notes: string | null;
        intercomTemplateId: string | null;
        startTime: Date | null;
        endTime: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    deleteBlock(id: string, productionId: string): Promise<{
        success: boolean;
    }>;
    reorderBlocks(productionId: string, blockIds: string[]): Promise<{
        success: boolean;
    }>;
    startBlock(id: string, productionId: string): Promise<{
        id: string;
        productionId: string;
        title: string;
        description: string | null;
        durationMs: number;
        status: import("@prisma/client").$Enums.BlockStatus;
        order: number;
        linkedScene: string | null;
        source: string | null;
        notes: string | null;
        intercomTemplateId: string | null;
        startTime: Date | null;
        endTime: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    completeBlock(id: string, productionId: string): Promise<{
        id: string;
        productionId: string;
        title: string;
        description: string | null;
        durationMs: number;
        status: import("@prisma/client").$Enums.BlockStatus;
        order: number;
        linkedScene: string | null;
        source: string | null;
        notes: string | null;
        intercomTemplateId: string | null;
        startTime: Date | null;
        endTime: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    resetBlock(id: string, productionId: string): Promise<{
        id: string;
        productionId: string;
        title: string;
        description: string | null;
        durationMs: number;
        status: import("@prisma/client").$Enums.BlockStatus;
        order: number;
        linkedScene: string | null;
        source: string | null;
        notes: string | null;
        intercomTemplateId: string | null;
        startTime: Date | null;
        endTime: Date | null;
        createdAt: Date;
        updatedAt: Date;
    }>;
    private emitTimelineUpdated;
}
